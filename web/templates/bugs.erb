<html>
<head>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.tablesorter.min.js"></script>
<link href="/css/debian.css" rel="stylesheet" type="text/css">
<link href="/css/dmd.css" rel="stylesheet" type="text/css">
<link href="/css/bugs.css" rel="stylesheet" type="text/css">
<title>Debian Bugs Search @ UDD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>

<div id="header">
  <div id="wikisection">
    <p class="section"><a href="/" title="Ultimate Debian Database">UDD</a></p>
  </div>
  <div id="upperheader">
    <div id="logo">
        <a href="http://www.debian.org" title="Debian Home"><img src="/img/openlogo-50.png" alt="Debian" width="50" height="61"></a>
    </div>
  </div> <!-- end upperheader -->
  <div id="navbar">
    <p class="hidecss"><a href="#content">Skip Quicknav</a></p>
    <ul>
       <li><a href="/">Ultimate Database</a></li>
       <li><a href="/newbugs.cgi">Bugs search</a></li>
    </ul>
  </div> <!-- end navbar -->
  <p id="breadcrumbs">&nbsp;Bugs search</p>
</div> <!-- end header -->

<div id="content">

<form id='searchform' action="newbugs.cgi#results" method="get" onsubmit="removeBlankFields(this);">

<div id='quicknav'>
    <b>Navigation</b>:
    <a href='#distribution'>Distribution</a> /
    <a href='#filters'>Filters</a> /
    <a href='#types'>Types</a> /
    <a href='#sort'>Sort</a> /
    <a href='#info'>Info</a> /
    <a href='#queries'>Queries</a> /
    <a href="javascript:f=document.getElementById('searchform');removeBlankFields(f);f.submit();">Search</a>
    <% if bugs %>/ <a href='#results'>Results</a><% end %>
</div>

<h3 id='distribution'>Distribution<sup>[<a href="#ftn.distro">1</a>]</sup></h3>
<div class='indent'>
  <% RELEASE_RESTRICT.each do |r| %>
  <% checked = (release == r[0] ? 'CHECKED=\'1\'':'') %>
  <label><input type='radio' name='release' value='<%= r[0] %>' <%= checked %>/> <%= r[1] %></label><br/>
   <% end %>
</div>


<h3 id='filters'>Filters</h3>
<div>
    <table>
    <tr><th>not considered</th><th>only</th><th>ignore</th><th>type</th></tr>

      <% FILTERS.each do |r| %>
      <tr>
      <td style='text-align: center;'><input type='radio' name='<%= r[0] %>' value='' <%= filters[r[0]]==''?'CHECKED=\'1\'':'' %>/></td>
      <td style='text-align: center;'><input type='radio' name='<%= r[0] %>' value='only' <%= filters[r[0]]=='only'?'CHECKED=\'1\'':'' %>/></td>
      <td style='text-align: center;'><input type='radio' name='<%= r[0] %>' value='ign' <%= filters[r[0]]=='ign'?'CHECKED=\'1\'':'' %>/></td>
      <td><%= r[1] %></td>
      </tr>
      <% end %>

      <tr>
      <td style='text-align: center;'><input type='radio' name='fnewer' value='' <%= fnewer==''?'CHECKED=\'1\'':'' %>/></td>
      <td style='text-align: center;'><input type='radio' name='fnewer' value='only' <%= fnewer=='only'?'CHECKED=\'1\'':'' %>/></td>
      <td style='text-align: center;'><input type='radio' name='fnewer' value='ign' <%= fnewer=='ign'?'CHECKED=\'1\'':'' %>/></td>
      <td>newer than <input type='text' size='3' name='fnewerval' value='<%= fnewerval %>'/> days</td>
      </tr>
      <tr>
      <td style='text-align: center;'><input type='radio' name='flastmod' value='' <%= flastmod==''?'CHECKED=\'1\'':'' %>/></td>
      <td style='text-align: center;'><input type='radio' name='flastmod' value='only' <%= flastmod=='only'?'CHECKED=\'1\'':'' %>/></td>
      <td style='text-align: center;'><input type='radio' name='flastmod' value='ign' <%= flastmod=='ign'?'CHECKED=\'1\'':'' %>/></td>
      <td>modified in the last <input type='text' size='3' name='flastmodval' value='<%= flastmodval %>'/> days</td>
      </tr>
    </table>
</div>

<h3 id="types">Bug types</h3>
<div class="indent">
    <table>
      <% TYPES.each do |t| %>
      <% checked = types[t[0]]?" checked='1'":"" %>
      <tr><td><input type='checkbox' id='<%= t[0] %>' name='<%= t[0] %>' value='1'<%= checked %>/></td><td><label for='<%= t[0] %>'><%= t[1] %></label></td></tr>
      <% end %>  
    </table>
</div>

<h3 id='sort'>Sort</h3>
<div class="indent">
<% SORTS.each do |r| %>
<% checked = (sortby == r[0] ? 'CHECKED=\'1\'':'') %>
<label><input type='radio' name='sortby' value='<%= r[0] %>' <%= checked %>/><%= r[1] %></label><br/>
<% end %>
<br/>
<% [['asc', 'ascending'],[ 'desc', 'decreasing']].each do |r| %>
<% checked = (sorto == r[0] ? 'CHECKED=\'1\'':'') %>
<label><input type='radio' name='sorto' value='<%= r[0] %>' <%= checked %>/><%= r[1] %></label><br/>
<% end %>
</div>
  

<h3 id='info'>Additional information</h3>
<div class="indent">
<% COLUMNS.each do |r| %>
<% checked = cols[r[0]] ? 'checked':'' %>
<label><input type='checkbox' name='<%= r[0] %>' value='1' <%= checked %>/><%= r[1] %></label><br/>
<% end %>
</div>

<h3 id='queries'>Useful queries</h3>
<div>
    <ul>
    <li><a href="bugs.cgi?release=jessie_and_sid&patch=ign&merged=ign&done=ign&fnewerval=7&rc=1&sortby=id&sorto=asc&ctags=1&ctags=1&cdeferred=1"><b>Bug squasher view:</b> Affecting sid and jessie, not marked as done, not tagged patch; those need to be fixed, probably by a patch+upload</a></li>
    <li><a href="bugs.cgi?release=jessie_and_sid&patch=only&merged=ign&done=ign&fnewerval=7&rc=1&sortby=id&sorto=asc&chints=1&ctags=1&cdeferred=1"><b>Sponsor view:</b> Affecting sid and jessie, not marked as done, tagged 'patch'; those need a DD to sponsor an upload</a></li>
    <li><a href="bugs.cgi?release=jessie_and_sid&merged=ign&done=only&fnewerval=7&rc=1&sortby=id&sorto=asc&ctags=1&cdeferred=1&caffected=1"><b>Cleaner view:</b> Affecting sid and jessie, but marked as done; why is it still affecting unstable? fixed only in experimental? missing binaries? wrong changelog?</a></li>
    <li><a href="bugs.cgi?release=jessie_not_sid&merged=ign&fnewerval=7&rc=1&sortby=id&sorto=asc&chints=1&ctags=1&cdeferred=1&crttags=1"><b>Release Team view:</b> Affecting jessie, but not sid. Help the fix migrate to jessie!</a></li>
    </ul>
</div>


<p><input type='submit' value='Search'/></p>
</form>


<% if bugs %>
    <h3 id='results'><%= bugs.length %> bugs found</h3>
    <table class="table table-bordered tablesorter">
    <thead>
    <tr><th>bug#</th>
    <th>package</th><th>title</th>
    <% if cols['cpopcon'] %><th>popcon</th><% end %>
    <% if cols['cseverity'] %><th>severity</th><% end %>
    <% if cols['chints'] %><th>hints</th><% end %>
    <% if cols['cclaimed'] %><th>claimed by</th><% end %>
    <% if cols['cdeferred'] %><th>deferred</th><% end %>
    <% if cols['crttags'] %><th>RT tag</th><% end %>
    <th>last&nbsp;modified</th></tr>
    </thead>
    <tbody>

    <% bugs.each do |r| %>
        <tr><td style='text-align: left;'><a href="http://bugs.debian.org/<%= r['id'] %>">#<%= r['id'] %></a>
        <% if cols['ctags'] %><%= r['ctags'] %><% end %>
        <% if cols['caffected'] %><%= r['caffected'] %><% end %>
        </td>
        <td style='text-align: center;'>        
        <% srcs = r['source'].split(/,\s*/) %>
        <% bins = r['package'].split(/,\s*/) %>
        <% if bins.length == 1 %>
          <!-- link to source package if there is only 1 package -->
          <a href="http://packages.qa.debian.org/<%= srcs[0] %>"><%= bins[0] %></a>
        <% else %>
          <!-- if there is more than 1, we don't know which package is from which -->
          <!-- source, so link the the package and let the PTS sort it out -->
          <!-- strip 'src:' from the package, as the PTS doesn't do this for us -->
          <%= bins.map { |b| "<a href=\"http://packages.qa.debian.org/#{b.sub('src:','')}\">#{b}</a>" }.join(', ') %>
        <% end %>
        </td>
        <td><%= CGI::escapeHTML(r['title']) %></td>
        <% if cols['cpopcon'] %><td><%= r['popcon'] %></td><% end %>
        <% if cols['cseverity'] %><td><%= r['severity'] %></td><% end %>
        <% if cols['chints'] %><td><%= r['chints'] %> &nbsp;</td><% end %>
        <% if cols['cclaimed'] %><td><%= r['cclaimed'] %> &nbsp;</td><% end %>
        <% if cols['cdeferred'] %><td><%= r['cdeffered'] %> &nbsp;</td><% end %>
        <% if cols['crttags'] %><td><%= r['crttags'] %> &nbsp;</td><% end %>
        <% d = r['last_modified'] %>
        <% d = Date::new(d.year, d.month, d.day) %>
        <td style='text-align: center;'><%= d %></td></tr>
    <% end %>
    
    </tbody>
    </table>

<p><b>Generated in <%= timegen %> seconds. Last data update: <%= r2[0][0] %>
<%= "(%.1f hours ago)" % ((Time::now - Time::parse(r2[0][0].to_s)) / 3600) %>
</b></p>
<pre><%= q %></pre>

<% end %>

</div>
<div id="footer">
    <p><sup>[<a name="ftn.distro">1</a>] </sup>This already uses release tags ('sid', 'jessie') and xxx-ignore ('jessie-ignore') to include/exclude bugs</p>
    <p><a href="https://wiki.debian.org/UltimateDebianDatabase/Hacking">hacking / bug reporting / contact information</a> - <a href="http://anonscm.debian.org/gitweb/?p=collab-qa/udd.git;a=blob_plain;f=web/bugs.cgi">source code</a></p>
</div>

<script type="text/javascript">
$(document).ready(function() {
    $("table.tablesorter").tablesorter();
});


function removeBlankFields(form) {
    var inputs = form.getElementsByTagName("input");
    var removeList = new Array();
    for (var i=0; i<inputs.length; i++) {
	    if (inputs[i].value == "") {
		    removeList.push(inputs[i]);
	    }
    }
    for (x in removeList) {
	    removeList[x].parentNode.removeChild(removeList[x]);
    }
}

$(window).scroll(function(){
            $("#quicknav").css("top",Math.max(0,85-$(this).scrollTop()));
            });
$("#quicknav").css("top",Math.max(0,85-$(this).scrollTop()));
</script>

</body>
</html>
